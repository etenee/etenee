'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
//


var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _classnames = require('classnames');

var _classnames2 = _interopRequireDefault(_classnames);

var _utils = require('./utils');

var _utils2 = _interopRequireDefault(_utils);

var _lifecycle = require('./lifecycle');

var _lifecycle2 = _interopRequireDefault(_lifecycle);

var _methods = require('./methods');

var _methods2 = _interopRequireDefault(_methods);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _react2.default.createClass(_extends({
  displayName: 'src'
}, _lifecycle2.default, _methods2.default, {
  render: function render() {
    var _this = this;

    var resolvedState = this.getResolvedState();
    var children = resolvedState.children,
        className = resolvedState.className,
        style = resolvedState.style,
        getProps = resolvedState.getProps,
        getTableProps = resolvedState.getTableProps,
        getTheadGroupProps = resolvedState.getTheadGroupProps,
        getTheadGroupTrProps = resolvedState.getTheadGroupTrProps,
        getTheadGroupThProps = resolvedState.getTheadGroupThProps,
        getTheadProps = resolvedState.getTheadProps,
        getTheadTrProps = resolvedState.getTheadTrProps,
        getTheadThProps = resolvedState.getTheadThProps,
        getTbodyProps = resolvedState.getTbodyProps,
        getTrGroupProps = resolvedState.getTrGroupProps,
        getTrProps = resolvedState.getTrProps,
        getTdProps = resolvedState.getTdProps,
        getTfootProps = resolvedState.getTfootProps,
        getTfootTrProps = resolvedState.getTfootTrProps,
        getTfootTdProps = resolvedState.getTfootTdProps,
        getPaginationProps = resolvedState.getPaginationProps,
        getLoadingProps = resolvedState.getLoadingProps,
        getNoDataProps = resolvedState.getNoDataProps,
        showPagination = resolvedState.showPagination,
        expanderColumnWidth = resolvedState.expanderColumnWidth,
        manual = resolvedState.manual,
        loadingText = resolvedState.loadingText,
        noDataText = resolvedState.noDataText,
        loading = resolvedState.loading,
        pageSize = resolvedState.pageSize,
        page = resolvedState.page,
        sorting = resolvedState.sorting,
        pages = resolvedState.pages,
        pivotValKey = resolvedState.pivotValKey,
        subRowsKey = resolvedState.subRowsKey,
        expandedRows = resolvedState.expandedRows,
        onExpandRow = resolvedState.onExpandRow,
        TableComponent = resolvedState.TableComponent,
        TheadComponent = resolvedState.TheadComponent,
        TbodyComponent = resolvedState.TbodyComponent,
        TrGroupComponent = resolvedState.TrGroupComponent,
        TrComponent = resolvedState.TrComponent,
        ThComponent = resolvedState.ThComponent,
        TdComponent = resolvedState.TdComponent,
        TfootComponent = resolvedState.TfootComponent,
        ExpanderComponent = resolvedState.ExpanderComponent,
        PaginationComponent = resolvedState.PaginationComponent,
        LoadingComponent = resolvedState.LoadingComponent,
        SubComponent = resolvedState.SubComponent,
        NoDataComponent = resolvedState.NoDataComponent,
        resolvedData = resolvedState.resolvedData,
        allVisibleColumns = resolvedState.allVisibleColumns,
        headerGroups = resolvedState.headerGroups,
        hasHeaderGroups = resolvedState.hasHeaderGroups,
        sortedData = resolvedState.sortedData;

    // Pagination

    var startRow = pageSize * page;
    var endRow = startRow + pageSize;
    var pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow);
    var minRows = this.getMinRows();
    var padRows = pages > 1 ? _utils2.default.range(pageSize - pageRows.length) : minRows ? _utils2.default.range(Math.max(minRows - pageRows.length, 0)) : [];

    var hasColumnFooter = allVisibleColumns.some(function (d) {
      return d.footer;
    });

    var recurseRowsViewIndex = function recurseRowsViewIndex(rows) {
      var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
      var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;

      rows.forEach(function (row, i) {
        index++;
        row._viewIndex = index;
        var newPath = path.concat([i]);
        if (row[subRowsKey] && _utils2.default.get(expandedRows, newPath)) {
          index = recurseRowsViewIndex(row[subRowsKey], newPath, index);
        }
      });
      return index;
    };

    recurseRowsViewIndex(pageRows);

    var canPrevious = page > 0;
    var canNext = page + 1 < pages;

    var rowMinWidth = _utils2.default.sum(allVisibleColumns.map(function (d) {
      return _utils2.default.getFirstDefined(d.width, d.minWidth);
    }));

    var rowIndex = -1;

    var finalState = _extends({}, resolvedState, {
      startRow: startRow,
      endRow: endRow,
      pageRows: pageRows,
      minRows: minRows,
      padRows: padRows,
      hasColumnFooter: hasColumnFooter,
      canPrevious: canPrevious,
      canNext: canNext,
      rowMinWidth: rowMinWidth
    });

    // Visual Components

    var makeHeaderGroups = function makeHeaderGroups() {
      var theadGroupProps = _utils2.default.splitProps(getTheadGroupProps(finalState, undefined, undefined, _this));
      var theadGroupTrProps = _utils2.default.splitProps(getTheadGroupTrProps(finalState, undefined, undefined, _this));
      return _react2.default.createElement(
        TheadComponent,
        _extends({
          className: (0, _classnames2.default)('-headerGroups', theadGroupProps.className),
          style: _extends({}, theadGroupProps.style, {
            minWidth: rowMinWidth + 'px'
          })
        }, theadGroupProps.rest),
        _react2.default.createElement(
          TrComponent,
          _extends({
            className: theadGroupTrProps.className,
            style: theadGroupTrProps.style
          }, theadGroupTrProps.rest),
          headerGroups.map(makeHeaderGroup)
        )
      );
    };

    var makeHeaderGroup = function makeHeaderGroup(column, i) {
      var flex = _utils2.default.sum(column.columns.map(function (d) {
        return d.width ? 0 : d.minWidth;
      }));
      var width = _utils2.default.sum(column.columns.map(function (d) {
        return _utils2.default.getFirstDefined(d.width, d.minWidth);
      }));
      var maxWidth = _utils2.default.sum(column.columns.map(function (d) {
        return _utils2.default.getFirstDefined(d.width, d.maxWidth);
      }));
      var theadGroupThProps = _utils2.default.splitProps(getTheadGroupThProps(finalState, undefined, column, _this));
      var columnHeaderProps = _utils2.default.splitProps(column.getHeaderProps(finalState, undefined, column, _this));

      var classes = [column.headerClassName, theadGroupThProps.className, columnHeaderProps.className];

      var styles = _extends({}, column.headerStyle, theadGroupThProps.style, columnHeaderProps.style);

      var rest = _extends({}, theadGroupThProps.rest, columnHeaderProps.rest);

      var flexStyles = {
        flex: flex + ' 0 auto',
        width: width + 'px',
        maxWidth: maxWidth + 'px'
      };

      if (column.expander) {
        if (column.pivotColumns) {
          return _react2.default.createElement(ThComponent, _extends({
            key: i,
            className: (0, _classnames2.default)('rt-pivot-header', classes),
            style: _extends({}, styles, flexStyles)
          }, rest));
        }
        return _react2.default.createElement(ThComponent, _extends({
          key: i,
          className: (0, _classnames2.default)('rt-expander-header', classes),
          style: _extends({}, styles, {
            flex: '0 0 auto',
            width: expanderColumnWidth + 'px'
          })
        }, rest));
      }
      return _react2.default.createElement(
        ThComponent,
        _extends({
          key: i,
          className: (0, _classnames2.default)(classes),
          style: _extends({}, styles, flexStyles)
        }, rest),
        _utils2.default.normalizeComponent(column.header, {
          data: sortedData,
          column: column
        })
      );
    };

    var makeHeaders = function makeHeaders() {
      var theadProps = _utils2.default.splitProps(getTheadProps(finalState, undefined, undefined, _this));
      var theadTrProps = _utils2.default.splitProps(getTheadTrProps(finalState, undefined, undefined, _this));
      return _react2.default.createElement(
        TheadComponent,
        _extends({
          className: (0, _classnames2.default)('-header', theadProps.className),
          style: _extends({}, theadProps.style, {
            minWidth: rowMinWidth + 'px'
          })
        }, theadProps.rest),
        _react2.default.createElement(
          TrComponent,
          _extends({
            className: theadTrProps.className,
            style: theadTrProps.style
          }, theadTrProps.rest),
          allVisibleColumns.map(makeHeader)
        )
      );
    };

    var makeHeader = function makeHeader(column, i) {
      var sort = sorting.find(function (d) {
        return d.id === column.id;
      });
      var show = typeof column.show === 'function' ? column.show() : column.show;
      var width = _utils2.default.getFirstDefined(column.width, column.minWidth);
      var maxWidth = _utils2.default.getFirstDefined(column.width, column.maxWidth);
      var theadThProps = _utils2.default.splitProps(getTheadThProps(finalState, undefined, column, _this));
      var columnHeaderProps = _utils2.default.splitProps(column.getHeaderProps(finalState, undefined, column, _this));

      var classes = [column.headerClassName, theadThProps.className, columnHeaderProps.className];

      var styles = _extends({}, column.headerStyle, theadThProps.style, columnHeaderProps.style);

      var rest = _extends({}, theadThProps.rest, columnHeaderProps.rest);

      if (column.expander) {
        if (column.pivotColumns) {
          var pivotSort = sorting.find(function (d) {
            return d.id === column.id;
          });
          return _react2.default.createElement(
            ThComponent,
            _extends({
              key: i,
              className: (0, _classnames2.default)('rt-pivot-header', column.sortable && '-cursor-pointer', classes, pivotSort ? pivotSort.desc ? '-sort-asc' : '-sort-desc' : ''),
              style: _extends({}, styles, {
                flex: width + ' 0 auto',
                width: width + 'px',
                maxWidth: maxWidth + 'px'
              }),
              toggleSort: function toggleSort(e) {
                column.sortable && _this.sortColumn(column.pivotColumns, e.shiftKey);
              }
            }, rest),
            column.pivotColumns.map(function (pivotColumn, i) {
              return _react2.default.createElement(
                'span',
                { key: pivotColumn.id },
                _utils2.default.normalizeComponent(pivotColumn.header, {
                  data: sortedData,
                  column: column
                }),
                i < column.pivotColumns.length - 1 && _react2.default.createElement(ExpanderComponent, null)
              );
            })
          );
        }
        return _react2.default.createElement(ThComponent, _extends({
          key: i,
          className: (0, _classnames2.default)('rt-expander-header', classes),
          style: _extends({}, styles, {
            flex: '0 0 auto',
            width: expanderColumnWidth + 'px'
          })
        }, rest));
      }

      return _react2.default.createElement(
        ThComponent,
        _extends({
          key: i,
          className: (0, _classnames2.default)(classes, sort ? sort.desc ? '-sort-asc' : '-sort-desc' : '', column.sortable && '-cursor-pointer', !show && '-hidden'),
          style: _extends({}, styles, {
            flex: width + ' 0 auto',
            width: width + 'px',
            maxWidth: maxWidth + 'px'
          }),
          toggleSort: function toggleSort(e) {
            column.sortable && _this.sortColumn(column, e.shiftKey);
          }
        }, rest),
        _utils2.default.normalizeComponent(column.header, {
          data: sortedData,
          column: column
        })
      );
    };

    var makePageRow = function makePageRow(row, i) {
      var path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];

      var rowInfo = {
        row: row.__original,
        rowValues: row,
        index: row.__index,
        viewIndex: ++rowIndex,
        level: path.length,
        nestingPath: path.concat([i]),
        aggregated: !!row[subRowsKey],
        subRows: row[subRowsKey]
      };
      var isExpanded = _utils2.default.get(expandedRows, rowInfo.nestingPath);
      var trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, _this);
      var trProps = _utils2.default.splitProps(getTrProps(finalState, rowInfo, undefined, _this));
      return _react2.default.createElement(
        TrGroupComponent,
        _extends({
          key: rowInfo.nestingPath.join('_')
        }, trGroupProps),
        _react2.default.createElement(
          TrComponent,
          _extends({
            className: (0, _classnames2.default)(trProps.className, row._viewIndex % 2 ? '-even' : '-odd'),
            style: trProps.style
          }, trProps.rest),
          allVisibleColumns.map(function (column, i2) {
            var show = typeof column.show === 'function' ? column.show() : column.show;
            var width = _utils2.default.getFirstDefined(column.width, column.minWidth);
            var maxWidth = _utils2.default.getFirstDefined(column.width, column.maxWidth);
            var tdProps = _utils2.default.splitProps(getTdProps(finalState, rowInfo, column, _this));
            var columnProps = _utils2.default.splitProps(column.getProps(finalState, rowInfo, column, _this));

            var classes = [tdProps.className, column.className, columnProps.className];

            var styles = _extends({}, tdProps.style, column.style, columnProps.style);

            if (column.expander) {
              var onTdClick = function onTdClick(e) {
                if (onExpandRow) {
                  return onExpandRow(rowInfo.nestingPath, e);
                }
                var newExpandedRows = _utils2.default.clone(expandedRows);
                if (isExpanded) {
                  return _this.setStateWithData({
                    expandedRows: _utils2.default.set(newExpandedRows, rowInfo.nestingPath, false)
                  });
                }
                return _this.setStateWithData({
                  expandedRows: _utils2.default.set(newExpandedRows, rowInfo.nestingPath, {})
                });
              };

              if (column.pivotColumns) {
                // Return the pivot expander cell
                var PivotCell = column.pivotRender;
                return _react2.default.createElement(
                  TdComponent,
                  _extends({
                    key: i2,
                    className: (0, _classnames2.default)('rt-pivot', classes),
                    style: _extends({}, styles, {
                      paddingLeft: rowInfo.nestingPath.length === 1 ? undefined : 30 * (rowInfo.nestingPath.length - 1) + 'px',
                      flex: width + ' 0 auto',
                      width: width + 'px',
                      maxWidth: maxWidth + 'px'
                    })
                  }, tdProps.rest, {
                    onClick: onTdClick
                  }),
                  rowInfo.subRows ? _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(ExpanderComponent, {
                      isExpanded: isExpanded
                    }),
                    column && column.pivotRender ? _react2.default.createElement(PivotCell, _extends({}, rowInfo, {
                      value: rowInfo.rowValues[pivotValKey]
                    })) : _react2.default.createElement(
                      'span',
                      null,
                      row[pivotValKey],
                      ' (',
                      rowInfo.subRows.length,
                      ')'
                    )
                  ) : SubComponent ? _react2.default.createElement(
                    'span',
                    null,
                    _react2.default.createElement(ExpanderComponent, {
                      isExpanded: isExpanded
                    })
                  ) : null
                );
              }

              // Return the regular expander cell
              return _react2.default.createElement(
                TdComponent,
                {
                  key: i2,
                  className: (0, _classnames2.default)(classes, { hidden: !show }),
                  style: _extends({}, styles, {
                    flex: '0 0 auto',
                    width: expanderColumnWidth + 'px'
                  }),
                  onClick: onTdClick
                },
                _react2.default.createElement(
                  'span',
                  null,
                  _react2.default.createElement(ExpanderComponent, {
                    isExpanded: isExpanded
                  })
                )
              );
            }

            // Return regular cell
            return _react2.default.createElement(
              TdComponent,
              _extends({
                key: i2,
                className: (0, _classnames2.default)(classes, !show && 'hidden'),
                style: _extends({}, styles, {
                  flex: width + ' 0 auto',
                  width: width + 'px',
                  maxWidth: maxWidth + 'px'
                })
              }, tdProps.rest),
              _utils2.default.normalizeComponent(column.render, _extends({}, rowInfo, {
                value: rowInfo.rowValues[column.id]
              }), rowInfo.rowValues[column.id])
            );
          })
        ),
        rowInfo.subRows && isExpanded && rowInfo.subRows.map(function (d, i) {
          return makePageRow(d, i, rowInfo.nestingPath);
        }),
        SubComponent && !rowInfo.subRows && isExpanded && SubComponent(rowInfo)
      );
    };

    var makePadRow = function makePadRow(row, i) {
      var trGroupProps = getTrGroupProps(finalState, undefined, undefined, _this);
      var trProps = _utils2.default.splitProps(getTrProps(finalState, undefined, undefined, _this));
      var tdProps = _utils2.default.splitProps(getTdProps(finalState, undefined, undefined, _this));
      return _react2.default.createElement(
        TrGroupComponent,
        _extends({
          key: i
        }, trGroupProps),
        _react2.default.createElement(
          TrComponent,
          {
            className: (0, _classnames2.default)('-padRow', trProps.className),
            style: trProps.style || {}
          },
          SubComponent && _react2.default.createElement(ThComponent, _extends({
            className: (0, _classnames2.default)('rt-expander-header', tdProps.className),
            style: _extends({}, tdProps.style, {
              flex: '0 0 auto',
              width: expanderColumnWidth + 'px'
            })
          }, tdProps.rest)),
          allVisibleColumns.map(function (column, i2) {
            var show = typeof column.show === 'function' ? column.show() : column.show;
            var width = _utils2.default.getFirstDefined(column.width, column.minWidth);
            var maxWidth = _utils2.default.getFirstDefined(column.width, column.maxWidth);
            var tdProps = _utils2.default.splitProps(getTdProps(finalState, undefined, column, _this));
            var columnProps = _utils2.default.splitProps(column.getProps(finalState, undefined, column, _this));

            var classes = [tdProps.className, column.className, columnProps.className];

            var styles = _extends({}, tdProps.style, column.style, columnProps.style);

            return _react2.default.createElement(
              TdComponent,
              _extends({
                key: i2,
                className: (0, _classnames2.default)(classes, !show && 'hidden'),
                style: _extends({}, styles, {
                  flex: width + ' 0 auto',
                  width: width + 'px',
                  maxWidth: maxWidth + 'px'
                })
              }, tdProps.rest),
              '\xA0'
            );
          })
        )
      );
    };

    var makeColumnFooters = function makeColumnFooters() {
      var tFootProps = getTfootProps(finalState, undefined, undefined, _this);
      var tFootTrProps = _utils2.default.splitProps(getTfootTrProps(finalState, undefined, undefined, _this));
      return _react2.default.createElement(
        TfootComponent,
        _extends({
          className: tFootProps.className,
          style: _extends({}, tFootProps.style, {
            minWidth: rowMinWidth + 'px'
          })
        }, tFootProps.rest),
        _react2.default.createElement(
          TrComponent,
          _extends({
            className: (0, _classnames2.default)(tFootTrProps.className),
            style: tFootTrProps.style
          }, tFootTrProps.rest),
          allVisibleColumns.map(function (column, i2) {
            var show = typeof column.show === 'function' ? column.show() : column.show;
            var width = _utils2.default.getFirstDefined(column.width, column.minWidth);
            var maxWidth = _utils2.default.getFirstDefined(column.width, column.maxWidth);
            var tFootTdProps = _utils2.default.splitProps(getTfootTdProps(finalState, undefined, undefined, _this));
            var columnProps = _utils2.default.splitProps(column.getProps(finalState, undefined, column, _this));
            var columnFooterProps = _utils2.default.splitProps(column.getFooterProps(finalState, undefined, column, _this));

            var classes = [tFootTdProps.className, column.className, columnProps.className, columnFooterProps.className];

            var styles = _extends({}, tFootTdProps.style, column.style, columnProps.style, columnFooterProps.style);

            if (column.expander) {
              if (column.pivotColumns) {
                return _react2.default.createElement(
                  TdComponent,
                  _extends({
                    key: i2,
                    className: (0, _classnames2.default)('rt-pivot', classes),
                    style: _extends({}, styles, {
                      flex: width + ' 0 auto',
                      width: width + 'px',
                      maxWidth: maxWidth + 'px'
                    })
                  }, columnProps.rest, tFootTdProps.rest, columnFooterProps.rest),
                  _utils2.default.normalizeComponent(column.footer)
                );
              }

              // Return the regular expander cell
              return _react2.default.createElement(TdComponent, {
                key: i2,
                className: (0, _classnames2.default)(classes, { hidden: !show }),
                style: _extends({}, styles, {
                  flex: '0 0 auto',
                  width: expanderColumnWidth + 'px'
                })
              });
            }

            // Return regular cell
            return _react2.default.createElement(
              TdComponent,
              _extends({
                key: i2,
                className: (0, _classnames2.default)(classes, !show && 'hidden'),
                style: _extends({}, styles, {
                  flex: width + ' 0 auto',
                  width: width + 'px',
                  maxWidth: maxWidth + 'px'
                })
              }, columnProps.rest, tFootTdProps.rest, columnFooterProps.rest),
              _utils2.default.normalizeComponent(column.footer)
            );
          })
        )
      );
    };

    var rootProps = _utils2.default.splitProps(getProps(finalState, undefined, undefined, this));
    var tableProps = _utils2.default.splitProps(getTableProps(finalState, undefined, undefined, this));
    var tBodyProps = _utils2.default.splitProps(getTbodyProps(finalState, undefined, undefined, this));
    var paginationProps = _utils2.default.splitProps(getPaginationProps(finalState, undefined, undefined, this));
    var loadingProps = getLoadingProps(finalState, undefined, undefined, this);
    var noDataProps = getNoDataProps(finalState, undefined, undefined, this);

    var makeTable = function makeTable() {
      return _react2.default.createElement(
        'div',
        _extends({
          className: (0, _classnames2.default)('ReactTable', className, rootProps.className),
          style: _extends({}, style, rootProps.style)
        }, rootProps.rest),
        _react2.default.createElement(
          TableComponent,
          _extends({
            className: (0, _classnames2.default)(tableProps.className),
            style: tableProps.style
          }, tableProps.rest),
          hasHeaderGroups ? makeHeaderGroups() : null,
          makeHeaders(),
          _react2.default.createElement(
            TbodyComponent,
            _extends({
              className: (0, _classnames2.default)(tBodyProps.className),
              style: _extends({}, tBodyProps.style, {
                minWidth: rowMinWidth + 'px'
              })
            }, tBodyProps.rest),
            pageRows.map(function (d, i) {
              return makePageRow(d, i);
            }),
            padRows.map(makePadRow)
          ),
          hasColumnFooter ? makeColumnFooters() : null
        ),
        showPagination ? _react2.default.createElement(PaginationComponent, _extends({}, resolvedState, {
          pages: pages,
          canPrevious: canPrevious,
          canNext: canNext,
          onPageChange: _this.onPageChange,
          onPageSizeChange: _this.onPageSizeChange,
          className: paginationProps.className,
          style: paginationProps.style
        }, paginationProps.rest)) : null,
        !pageRows.length && _react2.default.createElement(
          NoDataComponent,
          noDataProps,
          _utils2.default.normalizeComponent(noDataText)
        ),
        _react2.default.createElement(LoadingComponent, _extends({
          loading: loading,
          loadingText: loadingText
        }, loadingProps))
      );
    };

    // childProps are optionally passed to a function-as-a-child
    return children ? children(finalState, makeTable, this) : makeTable();
  }
}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVDbGFzcyIsInJlbmRlciIsInJlc29sdmVkU3RhdGUiLCJnZXRSZXNvbHZlZFN0YXRlIiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJzdHlsZSIsImdldFByb3BzIiwiZ2V0VGFibGVQcm9wcyIsImdldFRoZWFkR3JvdXBQcm9wcyIsImdldFRoZWFkR3JvdXBUclByb3BzIiwiZ2V0VGhlYWRHcm91cFRoUHJvcHMiLCJnZXRUaGVhZFByb3BzIiwiZ2V0VGhlYWRUclByb3BzIiwiZ2V0VGhlYWRUaFByb3BzIiwiZ2V0VGJvZHlQcm9wcyIsImdldFRyR3JvdXBQcm9wcyIsImdldFRyUHJvcHMiLCJnZXRUZFByb3BzIiwiZ2V0VGZvb3RQcm9wcyIsImdldFRmb290VHJQcm9wcyIsImdldFRmb290VGRQcm9wcyIsImdldFBhZ2luYXRpb25Qcm9wcyIsImdldExvYWRpbmdQcm9wcyIsImdldE5vRGF0YVByb3BzIiwic2hvd1BhZ2luYXRpb24iLCJleHBhbmRlckNvbHVtbldpZHRoIiwibWFudWFsIiwibG9hZGluZ1RleHQiLCJub0RhdGFUZXh0IiwibG9hZGluZyIsInBhZ2VTaXplIiwicGFnZSIsInNvcnRpbmciLCJwYWdlcyIsInBpdm90VmFsS2V5Iiwic3ViUm93c0tleSIsImV4cGFuZGVkUm93cyIsIm9uRXhwYW5kUm93IiwiVGFibGVDb21wb25lbnQiLCJUaGVhZENvbXBvbmVudCIsIlRib2R5Q29tcG9uZW50IiwiVHJHcm91cENvbXBvbmVudCIsIlRyQ29tcG9uZW50IiwiVGhDb21wb25lbnQiLCJUZENvbXBvbmVudCIsIlRmb290Q29tcG9uZW50IiwiRXhwYW5kZXJDb21wb25lbnQiLCJQYWdpbmF0aW9uQ29tcG9uZW50IiwiTG9hZGluZ0NvbXBvbmVudCIsIlN1YkNvbXBvbmVudCIsIk5vRGF0YUNvbXBvbmVudCIsInJlc29sdmVkRGF0YSIsImFsbFZpc2libGVDb2x1bW5zIiwiaGVhZGVyR3JvdXBzIiwiaGFzSGVhZGVyR3JvdXBzIiwic29ydGVkRGF0YSIsInN0YXJ0Um93IiwiZW5kUm93IiwicGFnZVJvd3MiLCJzbGljZSIsIm1pblJvd3MiLCJnZXRNaW5Sb3dzIiwicGFkUm93cyIsInJhbmdlIiwibGVuZ3RoIiwiTWF0aCIsIm1heCIsImhhc0NvbHVtbkZvb3RlciIsInNvbWUiLCJkIiwiZm9vdGVyIiwicmVjdXJzZVJvd3NWaWV3SW5kZXgiLCJyb3dzIiwicGF0aCIsImluZGV4IiwiZm9yRWFjaCIsInJvdyIsImkiLCJfdmlld0luZGV4IiwibmV3UGF0aCIsImNvbmNhdCIsImdldCIsImNhblByZXZpb3VzIiwiY2FuTmV4dCIsInJvd01pbldpZHRoIiwic3VtIiwibWFwIiwiZ2V0Rmlyc3REZWZpbmVkIiwid2lkdGgiLCJtaW5XaWR0aCIsInJvd0luZGV4IiwiZmluYWxTdGF0ZSIsIm1ha2VIZWFkZXJHcm91cHMiLCJ0aGVhZEdyb3VwUHJvcHMiLCJzcGxpdFByb3BzIiwidW5kZWZpbmVkIiwidGhlYWRHcm91cFRyUHJvcHMiLCJyZXN0IiwibWFrZUhlYWRlckdyb3VwIiwiY29sdW1uIiwiZmxleCIsImNvbHVtbnMiLCJtYXhXaWR0aCIsInRoZWFkR3JvdXBUaFByb3BzIiwiY29sdW1uSGVhZGVyUHJvcHMiLCJnZXRIZWFkZXJQcm9wcyIsImNsYXNzZXMiLCJoZWFkZXJDbGFzc05hbWUiLCJzdHlsZXMiLCJoZWFkZXJTdHlsZSIsImZsZXhTdHlsZXMiLCJleHBhbmRlciIsInBpdm90Q29sdW1ucyIsIm5vcm1hbGl6ZUNvbXBvbmVudCIsImhlYWRlciIsImRhdGEiLCJtYWtlSGVhZGVycyIsInRoZWFkUHJvcHMiLCJ0aGVhZFRyUHJvcHMiLCJtYWtlSGVhZGVyIiwic29ydCIsImZpbmQiLCJpZCIsInNob3ciLCJ0aGVhZFRoUHJvcHMiLCJwaXZvdFNvcnQiLCJzb3J0YWJsZSIsImRlc2MiLCJlIiwic29ydENvbHVtbiIsInNoaWZ0S2V5IiwicGl2b3RDb2x1bW4iLCJtYWtlUGFnZVJvdyIsInJvd0luZm8iLCJfX29yaWdpbmFsIiwicm93VmFsdWVzIiwiX19pbmRleCIsInZpZXdJbmRleCIsImxldmVsIiwibmVzdGluZ1BhdGgiLCJhZ2dyZWdhdGVkIiwic3ViUm93cyIsImlzRXhwYW5kZWQiLCJ0ckdyb3VwUHJvcHMiLCJ0clByb3BzIiwiam9pbiIsImkyIiwidGRQcm9wcyIsImNvbHVtblByb3BzIiwib25UZENsaWNrIiwibmV3RXhwYW5kZWRSb3dzIiwiY2xvbmUiLCJzZXRTdGF0ZVdpdGhEYXRhIiwic2V0IiwiUGl2b3RDZWxsIiwicGl2b3RSZW5kZXIiLCJwYWRkaW5nTGVmdCIsImhpZGRlbiIsInZhbHVlIiwibWFrZVBhZFJvdyIsIm1ha2VDb2x1bW5Gb290ZXJzIiwidEZvb3RQcm9wcyIsInRGb290VHJQcm9wcyIsInRGb290VGRQcm9wcyIsImNvbHVtbkZvb3RlclByb3BzIiwiZ2V0Rm9vdGVyUHJvcHMiLCJyb290UHJvcHMiLCJ0YWJsZVByb3BzIiwidEJvZHlQcm9wcyIsInBhZ2luYXRpb25Qcm9wcyIsImxvYWRpbmdQcm9wcyIsIm5vRGF0YVByb3BzIiwibWFrZVRhYmxlIiwib25QYWdlQ2hhbmdlIiwib25QYWdlU2l6ZUNoYW5nZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOzs7QUFGQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7a0JBRWUsZ0JBQU1BLFdBQU47QUFBQTtBQUFBO0FBSWJDLFFBSmEsb0JBSUg7QUFBQTs7QUFDUixRQUFNQyxnQkFBZ0IsS0FBS0MsZ0JBQUwsRUFBdEI7QUFEUSxRQUdOQyxRQUhNLEdBNkRKRixhQTdESSxDQUdORSxRQUhNO0FBQUEsUUFJTkMsU0FKTSxHQTZESkgsYUE3REksQ0FJTkcsU0FKTTtBQUFBLFFBS05DLEtBTE0sR0E2REpKLGFBN0RJLENBS05JLEtBTE07QUFBQSxRQU1OQyxRQU5NLEdBNkRKTCxhQTdESSxDQU1OSyxRQU5NO0FBQUEsUUFPTkMsYUFQTSxHQTZESk4sYUE3REksQ0FPTk0sYUFQTTtBQUFB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QUFRRSxpQkFBT3FLLGdCQUFnQnBLO0FBUnpCLFdBU01vSyxnQkFBZ0J4RSxJQVR0QixFQURELEdBWUcsSUE1Q047QUE2Q0csU0FBQ3ZDLFNBQVNNLE1BQVYsSUFDQztBQUFDLHlCQUFEO0FBQ00yRyxxQkFETjtBQUdHLDBCQUFFMUQsa0JBQUYsQ0FBcUJyRixVQUFyQjtBQUhILFNBOUNKO0FBb0RFLHNDQUFDLGdCQUFEO0FBQ0UsbUJBQVNDLE9BRFg7QUFFRSx1QkFBYUY7QUFGZixXQUdNK0ksWUFITjtBQXBERixPQURnQjtBQUFBLEtBQWxCOztBQTZEQTtBQUNBLFdBQU92SyxXQUFXQSxTQUFTd0YsVUFBVCxFQUFxQmlGLFNBQXJCLEVBQWdDLElBQWhDLENBQVgsR0FBbURBLFdBQTFEO0FBQ0Q7QUEvdkJZLEciLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuLy9cbmltcG9ydCBfIGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgbGlmZWN5Y2xlIGZyb20gJy4vbGlmZWN5Y2xlJ1xuaW1wb3J0IG1ldGhvZHMgZnJvbSAnLi9tZXRob2RzJ1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIC4uLmxpZmVjeWNsZSxcbiAgLi4ubWV0aG9kcyxcblxuICByZW5kZXIgKCkge1xuICAgIGNvbnN0IHJlc29sdmVkU3RhdGUgPSB0aGlzLmdldFJlc29sdmVkU3RhdGUoKVxuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgc3R5bGUsXG4gICAgICBnZXRQcm9wcyxcbiAgICAgIGdldFRhYmxlUHJvcHMsXG4gICAgICBnZXRUaGVhZEdyb3VwUHJvcHMsXG4gICAgICBnZXRUaGVhZEdyb3VwVHJQcm9wcyxcbiAgICAgIGdldFRoZWFkR3JvdXBUaFByb3BzLFxuICAgICAgZ2V0VGhlYWRQcm9wcyxcbiAgICAgIGdldFRoZWFkVHJQcm9wcyxcbiAgICAgIGdldFRoZWFkVGhQcm9wcyxcbiAgICAgIGdldFRib2R5UHJvcHMsXG4gICAgICBnZXRUckdyb3VwUHJvcHMsXG4gICAgICBnZXRUclByb3BzLFxuICAgICAgZ2V0VGRQcm9wcyxcbiAgICAgIGdldFRmb290UHJvcHMsXG4gICAgICBnZXRUZm9vdFRyUHJvcHMsXG4gICAgICBnZXRUZm9vdFRkUHJvcHMsXG4gICAgICBnZXRQYWdpbmF0aW9uUHJvcHMsXG4gICAgICBnZXRMb2FkaW5nUHJvcHMsXG4gICAgICBnZXROb0RhdGFQcm9wcyxcbiAgICAgIHNob3dQYWdpbmF0aW9uLFxuICAgICAgZXhwYW5kZXJDb2x1bW5XaWR0aCxcbiAgICAgIG1hbnVhbCxcbiAgICAgIGxvYWRpbmdUZXh0LFxuICAgICAgbm9EYXRhVGV4dCxcbiAgICAgIC8vIFN0YXRlXG4gICAgICBsb2FkaW5nLFxuICAgICAgcGFnZVNpemUsXG4gICAgICBwYWdlLFxuICAgICAgc29ydGluZyxcbiAgICAgIHBhZ2VzLFxuICAgICAgLy8gUGl2b3RpbmcgU3RhdGVcbiAgICAgIHBpdm90VmFsS2V5LFxuICAgICAgc3ViUm93c0tleSxcbiAgICAgIGV4cGFuZGVkUm93cyxcbiAgICAgIG9uRXhwYW5kUm93LFxuICAgICAgLy8gQ29tcG9uZW50c1xuICAgICAgVGFibGVDb21wb25lbnQsXG4gICAgICBUaGVhZENvbXBvbmVudCxcbiAgICAgIFRib2R5Q29tcG9uZW50LFxuICAgICAgVHJHcm91cENvbXBvbmVudCxcbiAgICAgIFRyQ29tcG9uZW50LFxuICAgICAgVGhDb21wb25lbnQsXG4gICAgICBUZENvbXBvbmVudCxcbiAgICAgIFRmb290Q29tcG9uZW50LFxuICAgICAgRXhwYW5kZXJDb21wb25lbnQsXG4gICAgICBQYWdpbmF0aW9uQ29tcG9uZW50LFxuICAgICAgTG9hZGluZ0NvbXBvbmVudCxcbiAgICAgIFN1YkNvbXBvbmVudCxcbiAgICAgIE5vRGF0YUNvbXBvbmVudCxcbiAgICAgIC8vIERhdGEgbW9kZWxcbiAgICAgIHJlc29sdmVkRGF0YSxcbiAgICAgIGFsbFZpc2libGVDb2x1bW5zLFxuICAgICAgaGVhZGVyR3JvdXBzLFxuICAgICAgaGFzSGVhZGVyR3JvdXBzLFxuICAgICAgLy8gU29ydGVkIERhdGFcbiAgICAgIHNvcnRlZERhdGFcbiAgICB9ID0gcmVzb2x2ZWRTdGF0ZVxuXG4gICAgLy8gUGFnaW5hdGlvblxuICAgIGNvbnN0IHN0YXJ0Um93ID0gcGFnZVNpemUgKiBwYWdlXG4gICAgY29uc3QgZW5kUm93ID0gc3RhcnRSb3cgKyBwYWdlU2l6ZVxuICAgIGNvbnN0IHBhZ2VSb3dzID0gbWFudWFsID8gcmVzb2x2ZWREYXRhIDogc29ydGVkRGF0YS5zbGljZShzdGFydFJvdywgZW5kUm93KVxuICAgIGNvbnN0IG1pblJvd3MgPSB0aGlzLmdldE1pblJvd3MoKVxuICAgIGNvbnN0IHBhZFJvd3MgPSBwYWdlcyA+IDEgPyBfLnJhbmdlKHBhZ2VTaXplIC0gcGFnZVJvd3MubGVuZ3RoKVxuICAgICAgOiBtaW5Sb3dzID8gXy5yYW5nZShNYXRoLm1heChtaW5Sb3dzIC0gcGFnZVJvd3MubGVuZ3RoLCAwKSlcbiAgICAgIDogW11cblxuICAgIGNvbnN0IGhhc0NvbHVtbkZvb3RlciA9IGFsbFZpc2libGVDb2x1bW5zLnNvbWUoZCA9PiBkLmZvb3RlcilcblxuICAgIGNvbnN0IHJlY3Vyc2VSb3dzVmlld0luZGV4ID0gKHJvd3MsIHBhdGggPSBbXSwgaW5kZXggPSAtMSkgPT4ge1xuICAgICAgcm93cy5mb3JFYWNoKChyb3csIGkpID0+IHtcbiAgICAgICAgaW5kZXgrK1xuICAgICAgICByb3cuX3ZpZXdJbmRleCA9IGluZGV4XG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSBwYXRoLmNvbmNhdChbaV0pXG4gICAgICAgIGlmIChyb3dbc3ViUm93c0tleV0gJiYgXy5nZXQoZXhwYW5kZWRSb3dzLCBuZXdQYXRoKSkge1xuICAgICAgICAgIGluZGV4ID0gcmVjdXJzZVJvd3NWaWV3SW5kZXgocm93W3N1YlJvd3NLZXldLCBuZXdQYXRoLCBpbmRleClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiBpbmRleFxuICAgIH1cblxuICAgIHJlY3Vyc2VSb3dzVmlld0luZGV4KHBhZ2VSb3dzKVxuXG4gICAgY29uc3QgY2FuUHJldmlvdXMgPSBwYWdlID4gMFxuICAgIGNvbnN0IGNhbk5leHQgPSBwYWdlICsgMSA8IHBhZ2VzXG5cbiAgICBjb25zdCByb3dNaW5XaWR0aCA9IF8uc3VtKGFsbFZpc2libGVDb2x1bW5zLm1hcChkID0+IF8uZ2V0Rmlyc3REZWZpbmVkKGQud2lkdGgsIGQubWluV2lkdGgpKSlcblxuICAgIGxldCByb3dJbmRleCA9IC0xXG5cbiAgICBjb25zdCBmaW5hbFN0YXRlID0ge1xuICAgICAgLi4ucmVzb2x2ZWRTdGF0ZSxcbiAgICAgIHN0YXJ0Um93LFxuICAgICAgZW5kUm93LFxuICAgICAgcGFnZVJvd3MsXG4gICAgICBtaW5Sb3dzLFxuICAgICAgcGFkUm93cyxcbiAgICAgIGhhc0NvbHVtbkZvb3RlcixcbiAgICAgIGNhblByZXZpb3VzLFxuICAgICAgY2FuTmV4dCxcbiAgICAgIHJvd01pbldpZHRoXG4gICAgfVxuXG4gICAgLy8gVmlzdWFsIENvbXBvbmVudHNcblxuICAgIGNvbnN0IG1ha2VIZWFkZXJHcm91cHMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB0aGVhZEdyb3VwUHJvcHMgPSBfLnNwbGl0UHJvcHMoZ2V0VGhlYWRHcm91cFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKSlcbiAgICAgIGNvbnN0IHRoZWFkR3JvdXBUclByb3BzID0gXy5zcGxpdFByb3BzKGdldFRoZWFkR3JvdXBUclByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKSlcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxUaGVhZENvbXBvbmVudFxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcygnLWhlYWRlckdyb3VwcycsIHRoZWFkR3JvdXBQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAuLi50aGVhZEdyb3VwUHJvcHMuc3R5bGUsXG4gICAgICAgICAgICBtaW5XaWR0aDogYCR7cm93TWluV2lkdGh9cHhgXG4gICAgICAgICAgfX1cbiAgICAgICAgICB7Li4udGhlYWRHcm91cFByb3BzLnJlc3R9XG4gICAgICAgID5cbiAgICAgICAgICA8VHJDb21wb25lbnRcbiAgICAgICAgICAgIGNsYXNzTmFtZT17dGhlYWRHcm91cFRyUHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICAgICAgc3R5bGU9e3RoZWFkR3JvdXBUclByb3BzLnN0eWxlfVxuICAgICAgICAgICAgey4uLnRoZWFkR3JvdXBUclByb3BzLnJlc3R9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2hlYWRlckdyb3Vwcy5tYXAobWFrZUhlYWRlckdyb3VwKX1cbiAgICAgICAgICA8L1RyQ29tcG9uZW50PlxuICAgICAgICA8L1RoZWFkQ29tcG9uZW50PlxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IG1ha2VIZWFkZXJHcm91cCA9IChjb2x1bW4sIGkpID0+IHtcbiAgICAgIGNvbnN0IGZsZXggPSBfLnN1bShjb2x1bW4uY29sdW1ucy5tYXAoZCA9PiBkLndpZHRoID8gMCA6IGQubWluV2lkdGgpKVxuICAgICAgY29uc3Qgd2lkdGggPSBfLnN1bShjb2x1bW4uY29sdW1ucy5tYXAoZCA9PiBfLmdldEZpcnN0RGVmaW5lZChkLndpZHRoLCBkLm1pbldpZHRoKSkpXG4gICAgICBjb25zdCBtYXhXaWR0aCA9IF8uc3VtKGNvbHVtbi5jb2x1bW5zLm1hcChkID0+IF8uZ2V0Rmlyc3REZWZpbmVkKGQud2lkdGgsIGQubWF4V2lkdGgpKSlcbiAgICAgIGNvbnN0IHRoZWFkR3JvdXBUaFByb3BzID0gXy5zcGxpdFByb3BzKGdldFRoZWFkR3JvdXBUaFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgY29sdW1uLCB0aGlzKSlcbiAgICAgIGNvbnN0IGNvbHVtbkhlYWRlclByb3BzID0gXy5zcGxpdFByb3BzKGNvbHVtbi5nZXRIZWFkZXJQcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIGNvbHVtbiwgdGhpcykpXG5cbiAgICAgIGNvbnN0IGNsYXNzZXMgPSBbXG4gICAgICAgIGNvbHVtbi5oZWFkZXJDbGFzc05hbWUsXG4gICAgICAgIHRoZWFkR3JvdXBUaFByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgY29sdW1uSGVhZGVyUHJvcHMuY2xhc3NOYW1lXG4gICAgICBdXG5cbiAgICAgIGNvbnN0IHN0eWxlcyA9IHtcbiAgICAgICAgLi4uY29sdW1uLmhlYWRlclN0eWxlLFxuICAgICAgICAuLi50aGVhZEdyb3VwVGhQcm9wcy5zdHlsZSxcbiAgICAgICAgLi4uY29sdW1uSGVhZGVyUHJvcHMuc3R5bGVcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdCA9IHtcbiAgICAgICAgLi4udGhlYWRHcm91cFRoUHJvcHMucmVzdCxcbiAgICAgICAgLi4uY29sdW1uSGVhZGVyUHJvcHMucmVzdFxuICAgICAgfVxuXG4gICAgICBjb25zdCBmbGV4U3R5bGVzID0ge1xuICAgICAgICBmbGV4OiBgJHtmbGV4fSAwIGF1dG9gLFxuICAgICAgICB3aWR0aDogYCR7d2lkdGh9cHhgLFxuICAgICAgICBtYXhXaWR0aDogYCR7bWF4V2lkdGh9cHhgXG4gICAgICB9XG5cbiAgICAgIGlmIChjb2x1bW4uZXhwYW5kZXIpIHtcbiAgICAgICAgaWYgKGNvbHVtbi5waXZvdENvbHVtbnMpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFRoQ29tcG9uZW50XG4gICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAgICAgICAgICdydC1waXZvdC1oZWFkZXInLFxuICAgICAgICAgICAgICAgIGNsYXNzZXNcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAuLi5zdHlsZXMsXG4gICAgICAgICAgICAgICAgLi4uZmxleFN0eWxlc1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB7Li4ucmVzdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRoQ29tcG9uZW50XG4gICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICAgICAgICdydC1leHBhbmRlci1oZWFkZXInLFxuICAgICAgICAgICAgICBjbGFzc2VzXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgLi4uc3R5bGVzLFxuICAgICAgICAgICAgICBmbGV4OiBgMCAwIGF1dG9gLFxuICAgICAgICAgICAgICB3aWR0aDogYCR7ZXhwYW5kZXJDb2x1bW5XaWR0aH1weGBcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ucmVzdH1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VGhDb21wb25lbnRcbiAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAgICAgY2xhc3Nlc1xuICAgICAgICAgICl9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIC4uLnN0eWxlcyxcbiAgICAgICAgICAgIC4uLmZsZXhTdHlsZXNcbiAgICAgICAgICB9fVxuICAgICAgICAgIHsuLi5yZXN0fVxuICAgICAgICA+XG4gICAgICAgICAge18ubm9ybWFsaXplQ29tcG9uZW50KGNvbHVtbi5oZWFkZXIsIHtcbiAgICAgICAgICAgIGRhdGE6IHNvcnRlZERhdGEsXG4gICAgICAgICAgICBjb2x1bW46IGNvbHVtblxuICAgICAgICAgIH0pfVxuICAgICAgICA8L1RoQ29tcG9uZW50PlxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IG1ha2VIZWFkZXJzID0gKCkgPT4ge1xuICAgICAgY29uc3QgdGhlYWRQcm9wcyA9IF8uc3BsaXRQcm9wcyhnZXRUaGVhZFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKSlcbiAgICAgIGNvbnN0IHRoZWFkVHJQcm9wcyA9IF8uc3BsaXRQcm9wcyhnZXRUaGVhZFRyUHJvcHMoZmluYWxTdGF0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMpKVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFRoZWFkQ29tcG9uZW50XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKCctaGVhZGVyJywgdGhlYWRQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAuLi50aGVhZFByb3BzLnN0eWxlLFxuICAgICAgICAgICAgbWluV2lkdGg6IGAke3Jvd01pbldpZHRofXB4YFxuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLnRoZWFkUHJvcHMucmVzdH1cbiAgICAgICAgPlxuICAgICAgICAgIDxUckNvbXBvbmVudFxuICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGVhZFRyUHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICAgICAgc3R5bGU9e3RoZWFkVHJQcm9wcy5zdHlsZX1cbiAgICAgICAgICAgIHsuLi50aGVhZFRyUHJvcHMucmVzdH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7YWxsVmlzaWJsZUNvbHVtbnMubWFwKG1ha2VIZWFkZXIpfVxuICAgICAgICAgIDwvVHJDb21wb25lbnQ+XG4gICAgICAgIDwvVGhlYWRDb21wb25lbnQ+XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgbWFrZUhlYWRlciA9IChjb2x1bW4sIGkpID0+IHtcbiAgICAgIGNvbnN0IHNvcnQgPSBzb3J0aW5nLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW4uaWQpXG4gICAgICBjb25zdCBzaG93ID0gdHlwZW9mIGNvbHVtbi5zaG93ID09PSAnZnVuY3Rpb24nID8gY29sdW1uLnNob3coKSA6IGNvbHVtbi5zaG93XG4gICAgICBjb25zdCB3aWR0aCA9IF8uZ2V0Rmlyc3REZWZpbmVkKGNvbHVtbi53aWR0aCwgY29sdW1uLm1pbldpZHRoKVxuICAgICAgY29uc3QgbWF4V2lkdGggPSBfLmdldEZpcnN0RGVmaW5lZChjb2x1bW4ud2lkdGgsIGNvbHVtbi5tYXhXaWR0aClcbiAgICAgIGNvbnN0IHRoZWFkVGhQcm9wcyA9IF8uc3BsaXRQcm9wcyhnZXRUaGVhZFRoUHJvcHMoZmluYWxTdGF0ZSwgdW5kZWZpbmVkLCBjb2x1bW4sIHRoaXMpKVxuICAgICAgY29uc3QgY29sdW1uSGVhZGVyUHJvcHMgPSBfLnNwbGl0UHJvcHMoY29sdW1uLmdldEhlYWRlclByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgY29sdW1uLCB0aGlzKSlcblxuICAgICAgY29uc3QgY2xhc3NlcyA9IFtcbiAgICAgICAgY29sdW1uLmhlYWRlckNsYXNzTmFtZSxcbiAgICAgICAgdGhlYWRUaFByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgY29sdW1uSGVhZGVyUHJvcHMuY2xhc3NOYW1lXG4gICAgICBdXG5cbiAgICAgIGNvbnN0IHN0eWxlcyA9IHtcbiAgICAgICAgLi4uY29sdW1uLmhlYWRlclN0eWxlLFxuICAgICAgICAuLi50aGVhZFRoUHJvcHMuc3R5bGUsXG4gICAgICAgIC4uLmNvbHVtbkhlYWRlclByb3BzLnN0eWxlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3QgPSB7XG4gICAgICAgIC4uLnRoZWFkVGhQcm9wcy5yZXN0LFxuICAgICAgICAuLi5jb2x1bW5IZWFkZXJQcm9wcy5yZXN0XG4gICAgICB9XG5cbiAgICAgIGlmIChjb2x1bW4uZXhwYW5kZXIpIHtcbiAgICAgICAgaWYgKGNvbHVtbi5waXZvdENvbHVtbnMpIHtcbiAgICAgICAgICBjb25zdCBwaXZvdFNvcnQgPSBzb3J0aW5nLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW4uaWQpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxUaENvbXBvbmVudFxuICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcbiAgICAgICAgICAgICAgICAncnQtcGl2b3QtaGVhZGVyJyxcbiAgICAgICAgICAgICAgICBjb2x1bW4uc29ydGFibGUgJiYgJy1jdXJzb3ItcG9pbnRlcicsXG4gICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICBwaXZvdFNvcnQgPyAocGl2b3RTb3J0LmRlc2MgPyAnLXNvcnQtYXNjJyA6ICctc29ydC1kZXNjJykgOiAnJ1xuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIC4uLnN0eWxlcyxcbiAgICAgICAgICAgICAgICBmbGV4OiBgJHt3aWR0aH0gMCBhdXRvYCxcbiAgICAgICAgICAgICAgICB3aWR0aDogYCR7d2lkdGh9cHhgLFxuICAgICAgICAgICAgICAgIG1heFdpZHRoOiBgJHttYXhXaWR0aH1weGBcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgdG9nZ2xlU29ydD17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb2x1bW4uc29ydGFibGUgJiYgdGhpcy5zb3J0Q29sdW1uKGNvbHVtbi5waXZvdENvbHVtbnMsIGUuc2hpZnRLZXkpXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHsuLi5yZXN0fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7Y29sdW1uLnBpdm90Q29sdW1ucy5tYXAoKHBpdm90Q29sdW1uLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT17cGl2b3RDb2x1bW4uaWR9PlxuICAgICAgICAgICAgICAgICAgICB7Xy5ub3JtYWxpemVDb21wb25lbnQocGl2b3RDb2x1bW4uaGVhZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogc29ydGVkRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtblxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAge2kgPCBjb2x1bW4ucGl2b3RDb2x1bW5zLmxlbmd0aCAtIDEgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbmRlckNvbXBvbmVudCAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L1RoQ29tcG9uZW50PlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUaENvbXBvbmVudFxuICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAgICAgICAncnQtZXhwYW5kZXItaGVhZGVyJyxcbiAgICAgICAgICAgICAgY2xhc3Nlc1xuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIC4uLnN0eWxlcyxcbiAgICAgICAgICAgICAgZmxleDogYDAgMCBhdXRvYCxcbiAgICAgICAgICAgICAgd2lkdGg6IGAke2V4cGFuZGVyQ29sdW1uV2lkdGh9cHhgXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLnJlc3R9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VGhDb21wb25lbnRcbiAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgIHNvcnQgPyAoc29ydC5kZXNjID8gJy1zb3J0LWFzYycgOiAnLXNvcnQtZGVzYycpIDogJycsXG4gICAgICAgICAgICBjb2x1bW4uc29ydGFibGUgJiYgJy1jdXJzb3ItcG9pbnRlcicsXG4gICAgICAgICAgICAhc2hvdyAmJiAnLWhpZGRlbicsXG4gICAgICAgICAgKX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgLi4uc3R5bGVzLFxuICAgICAgICAgICAgZmxleDogYCR7d2lkdGh9IDAgYXV0b2AsXG4gICAgICAgICAgICB3aWR0aDogYCR7d2lkdGh9cHhgLFxuICAgICAgICAgICAgbWF4V2lkdGg6IGAke21heFdpZHRofXB4YFxuICAgICAgICAgIH19XG4gICAgICAgICAgdG9nZ2xlU29ydD17KGUpID0+IHtcbiAgICAgICAgICAgIGNvbHVtbi5zb3J0YWJsZSAmJiB0aGlzLnNvcnRDb2x1bW4oY29sdW1uLCBlLnNoaWZ0S2V5KVxuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLnJlc3R9XG4gICAgICAgID5cbiAgICAgICAgICB7Xy5ub3JtYWxpemVDb21wb25lbnQoY29sdW1uLmhlYWRlciwge1xuICAgICAgICAgICAgZGF0YTogc29ydGVkRGF0YSxcbiAgICAgICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvVGhDb21wb25lbnQ+XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgbWFrZVBhZ2VSb3cgPSAocm93LCBpLCBwYXRoID0gW10pID0+IHtcbiAgICAgIGNvbnN0IHJvd0luZm8gPSB7XG4gICAgICAgIHJvdzogcm93Ll9fb3JpZ2luYWwsXG4gICAgICAgIHJvd1ZhbHVlczogcm93LFxuICAgICAgICBpbmRleDogcm93Ll9faW5kZXgsXG4gICAgICAgIHZpZXdJbmRleDogKytyb3dJbmRleCxcbiAgICAgICAgbGV2ZWw6IHBhdGgubGVuZ3RoLFxuICAgICAgICBuZXN0aW5nUGF0aDogcGF0aC5jb25jYXQoW2ldKSxcbiAgICAgICAgYWdncmVnYXRlZDogISFyb3dbc3ViUm93c0tleV0sXG4gICAgICAgIHN1YlJvd3M6IHJvd1tzdWJSb3dzS2V5XVxuICAgICAgfVxuICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IF8uZ2V0KGV4cGFuZGVkUm93cywgcm93SW5mby5uZXN0aW5nUGF0aClcbiAgICAgIGNvbnN0IHRyR3JvdXBQcm9wcyA9IGdldFRyR3JvdXBQcm9wcyhmaW5hbFN0YXRlLCByb3dJbmZvLCB1bmRlZmluZWQsIHRoaXMpXG4gICAgICBjb25zdCB0clByb3BzID0gXy5zcGxpdFByb3BzKGdldFRyUHJvcHMoZmluYWxTdGF0ZSwgcm93SW5mbywgdW5kZWZpbmVkLCB0aGlzKSlcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxUckdyb3VwQ29tcG9uZW50XG4gICAgICAgICAga2V5PXtyb3dJbmZvLm5lc3RpbmdQYXRoLmpvaW4oJ18nKX1cbiAgICAgICAgICB7Li4udHJHcm91cFByb3BzfVxuICAgICAgICA+XG4gICAgICAgICAgPFRyQ29tcG9uZW50XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICAgICAgIHRyUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICByb3cuX3ZpZXdJbmRleCAlIDIgPyAnLWV2ZW4nIDogJy1vZGQnXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgc3R5bGU9e3RyUHJvcHMuc3R5bGV9XG4gICAgICAgICAgICB7Li4udHJQcm9wcy5yZXN0fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHthbGxWaXNpYmxlQ29sdW1ucy5tYXAoKGNvbHVtbiwgaTIpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2hvdyA9IHR5cGVvZiBjb2x1bW4uc2hvdyA9PT0gJ2Z1bmN0aW9uJyA/IGNvbHVtbi5zaG93KCkgOiBjb2x1bW4uc2hvd1xuICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IF8uZ2V0Rmlyc3REZWZpbmVkKGNvbHVtbi53aWR0aCwgY29sdW1uLm1pbldpZHRoKVxuICAgICAgICAgICAgICBjb25zdCBtYXhXaWR0aCA9IF8uZ2V0Rmlyc3REZWZpbmVkKGNvbHVtbi53aWR0aCwgY29sdW1uLm1heFdpZHRoKVxuICAgICAgICAgICAgICBjb25zdCB0ZFByb3BzID0gXy5zcGxpdFByb3BzKGdldFRkUHJvcHMoZmluYWxTdGF0ZSwgcm93SW5mbywgY29sdW1uLCB0aGlzKSlcbiAgICAgICAgICAgICAgY29uc3QgY29sdW1uUHJvcHMgPSBfLnNwbGl0UHJvcHMoY29sdW1uLmdldFByb3BzKGZpbmFsU3RhdGUsIHJvd0luZm8sIGNvbHVtbiwgdGhpcykpXG5cbiAgICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IFtcbiAgICAgICAgICAgICAgICB0ZFByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNvbHVtblByb3BzLmNsYXNzTmFtZVxuICAgICAgICAgICAgICBdXG5cbiAgICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRkUHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgLi4uY29sdW1uLnN0eWxlLFxuICAgICAgICAgICAgICAgIC4uLmNvbHVtblByb3BzLnN0eWxlXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoY29sdW1uLmV4cGFuZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb25UZENsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChvbkV4cGFuZFJvdykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25FeHBhbmRSb3cocm93SW5mby5uZXN0aW5nUGF0aCwgZSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGxldCBuZXdFeHBhbmRlZFJvd3MgPSBfLmNsb25lKGV4cGFuZGVkUm93cylcbiAgICAgICAgICAgICAgICAgIGlmIChpc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlV2l0aERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkUm93czogXy5zZXQobmV3RXhwYW5kZWRSb3dzLCByb3dJbmZvLm5lc3RpbmdQYXRoLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXRlV2l0aERhdGEoe1xuICAgICAgICAgICAgICAgICAgICBleHBhbmRlZFJvd3M6IF8uc2V0KG5ld0V4cGFuZGVkUm93cywgcm93SW5mby5uZXN0aW5nUGF0aCwge30pXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucGl2b3RDb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHBpdm90IGV4cGFuZGVyIGNlbGxcbiAgICAgICAgICAgICAgICAgIGNvbnN0IFBpdm90Q2VsbCA9IGNvbHVtbi5waXZvdFJlbmRlclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFRkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpMn1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAncnQtcGl2b3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlc1xuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiByb3dJbmZvLm5lc3RpbmdQYXRoLmxlbmd0aCA9PT0gMSA/IHVuZGVmaW5lZCA6IGAkezMwICogKHJvd0luZm8ubmVzdGluZ1BhdGgubGVuZ3RoIC0gMSl9cHhgLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogYCR7d2lkdGh9IDAgYXV0b2AsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7d2lkdGh9cHhgLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IGAke21heFdpZHRofXB4YFxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgey4uLnRkUHJvcHMucmVzdH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblRkQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7cm93SW5mby5zdWJSb3dzID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbmRlckNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ9e2lzRXhwYW5kZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjb2x1bW4gJiYgY29sdW1uLnBpdm90UmVuZGVyID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQaXZvdENlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5yb3dJbmZvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3Jvd0luZm8ucm93VmFsdWVzW3Bpdm90VmFsS2V5XX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogPHNwYW4+e3Jvd1twaXZvdFZhbEtleV19ICh7cm93SW5mby5zdWJSb3dzLmxlbmd0aH0pPC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogU3ViQ29tcG9uZW50ID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbmRlckNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ9e2lzRXhwYW5kZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIDwvVGRDb21wb25lbnQ+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSByZWd1bGFyIGV4cGFuZGVyIGNlbGxcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPFRkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIGtleT17aTJ9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgICAgICAgICAgIHtoaWRkZW46ICFzaG93fVxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4OiBgMCAwIGF1dG9gLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtleHBhbmRlckNvbHVtbldpZHRofXB4YFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblRkQ2xpY2t9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxFeHBhbmRlckNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFeHBhbmRlZD17aXNFeHBhbmRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L1RkQ29tcG9uZW50PlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFJldHVybiByZWd1bGFyIGNlbGxcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8VGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgIGtleT17aTJ9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICFzaG93ICYmICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiBgJHt3aWR0aH0gMCBhdXRvYCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAke3dpZHRofXB4YCxcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IGAke21heFdpZHRofXB4YFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHsuLi50ZFByb3BzLnJlc3R9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge18ubm9ybWFsaXplQ29tcG9uZW50KGNvbHVtbi5yZW5kZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucm93SW5mbyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJvd0luZm8ucm93VmFsdWVzW2NvbHVtbi5pZF1cbiAgICAgICAgICAgICAgICAgIH0sIHJvd0luZm8ucm93VmFsdWVzW2NvbHVtbi5pZF0pfVxuICAgICAgICAgICAgICAgIDwvVGRDb21wb25lbnQ+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvVHJDb21wb25lbnQ+XG4gICAgICAgICAgeyhcbiAgICAgICAgICAgIHJvd0luZm8uc3ViUm93cyAmJlxuICAgICAgICAgICAgaXNFeHBhbmRlZCAmJlxuICAgICAgICAgICAgcm93SW5mby5zdWJSb3dzLm1hcCgoZCwgaSkgPT4gbWFrZVBhZ2VSb3coZCwgaSwgcm93SW5mby5uZXN0aW5nUGF0aCkpXG4gICAgICAgICAgKX1cbiAgICAgICAgICB7U3ViQ29tcG9uZW50ICYmICFyb3dJbmZvLnN1YlJvd3MgJiYgaXNFeHBhbmRlZCAmJiBTdWJDb21wb25lbnQocm93SW5mbyl9XG4gICAgICAgIDwvVHJHcm91cENvbXBvbmVudD5cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBtYWtlUGFkUm93ID0gKHJvdywgaSkgPT4ge1xuICAgICAgY29uc3QgdHJHcm91cFByb3BzID0gZ2V0VHJHcm91cFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKVxuICAgICAgY29uc3QgdHJQcm9wcyA9IF8uc3BsaXRQcm9wcyhnZXRUclByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKSlcbiAgICAgIGNvbnN0IHRkUHJvcHMgPSBfLnNwbGl0UHJvcHMoZ2V0VGRQcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcykpXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VHJHcm91cENvbXBvbmVudFxuICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICB7Li4udHJHcm91cFByb3BzfVxuICAgICAgICA+XG4gICAgICAgICAgPFRyQ29tcG9uZW50XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICAgICAgICctcGFkUm93JyxcbiAgICAgICAgICAgICAgdHJQcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgc3R5bGU9e3RyUHJvcHMuc3R5bGUgfHwge319XG4gICAgICAgICAgPlxuICAgICAgICAgICAge1N1YkNvbXBvbmVudCAmJiAoXG4gICAgICAgICAgICAgIDxUaENvbXBvbmVudFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcbiAgICAgICAgICAgICAgICAgICdydC1leHBhbmRlci1oZWFkZXInLFxuICAgICAgICAgICAgICAgICAgdGRQcm9wcy5jbGFzc05hbWVcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAuLi50ZFByb3BzLnN0eWxlLFxuICAgICAgICAgICAgICAgICAgZmxleDogYDAgMCBhdXRvYCxcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtleHBhbmRlckNvbHVtbldpZHRofXB4YFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgey4uLnRkUHJvcHMucmVzdH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7YWxsVmlzaWJsZUNvbHVtbnMubWFwKChjb2x1bW4sIGkyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNob3cgPSB0eXBlb2YgY29sdW1uLnNob3cgPT09ICdmdW5jdGlvbicgPyBjb2x1bW4uc2hvdygpIDogY29sdW1uLnNob3dcbiAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBfLmdldEZpcnN0RGVmaW5lZChjb2x1bW4ud2lkdGgsIGNvbHVtbi5taW5XaWR0aClcbiAgICAgICAgICAgICAgY29uc3QgbWF4V2lkdGggPSBfLmdldEZpcnN0RGVmaW5lZChjb2x1bW4ud2lkdGgsIGNvbHVtbi5tYXhXaWR0aClcbiAgICAgICAgICAgICAgY29uc3QgdGRQcm9wcyA9IF8uc3BsaXRQcm9wcyhnZXRUZFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgY29sdW1uLCB0aGlzKSlcbiAgICAgICAgICAgICAgY29uc3QgY29sdW1uUHJvcHMgPSBfLnNwbGl0UHJvcHMoY29sdW1uLmdldFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgY29sdW1uLCB0aGlzKSlcblxuICAgICAgICAgICAgICBjb25zdCBjbGFzc2VzID0gW1xuICAgICAgICAgICAgICAgIHRkUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgY29sdW1uUHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgICAgIF1cblxuICAgICAgICAgICAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAgICAgICAgICAgLi4udGRQcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICAuLi5jb2x1bW4uc3R5bGUsXG4gICAgICAgICAgICAgICAgLi4uY29sdW1uUHJvcHMuc3R5bGVcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFRkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICBrZXk9e2kyfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgICAgICAgICAhc2hvdyAmJiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgZmxleDogYCR7d2lkdGh9IDAgYXV0b2AsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHt3aWR0aH1weGAsXG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiBgJHttYXhXaWR0aH1weGBcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICB7Li4udGRQcm9wcy5yZXN0fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICZuYnNwO1xuICAgICAgICAgICAgICAgIDwvVGRDb21wb25lbnQ+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvVHJDb21wb25lbnQ+XG4gICAgICAgIDwvVHJHcm91cENvbXBvbmVudD5cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBtYWtlQ29sdW1uRm9vdGVycyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHRGb290UHJvcHMgPSBnZXRUZm9vdFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKVxuICAgICAgY29uc3QgdEZvb3RUclByb3BzID0gXy5zcGxpdFByb3BzKGdldFRmb290VHJQcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcykpXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VGZvb3RDb21wb25lbnRcbiAgICAgICAgICBjbGFzc05hbWU9e3RGb290UHJvcHMuY2xhc3NOYW1lfVxuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAuLi50Rm9vdFByb3BzLnN0eWxlLFxuICAgICAgICAgICAgbWluV2lkdGg6IGAke3Jvd01pbldpZHRofXB4YFxuICAgICAgICAgIH19XG4gICAgICAgICAgey4uLnRGb290UHJvcHMucmVzdH1cbiAgICAgICAgPlxuICAgICAgICAgIDxUckNvbXBvbmVudFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAgICAgICB0Rm9vdFRyUHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgc3R5bGU9e3RGb290VHJQcm9wcy5zdHlsZX1cbiAgICAgICAgICAgIHsuLi50Rm9vdFRyUHJvcHMucmVzdH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7YWxsVmlzaWJsZUNvbHVtbnMubWFwKChjb2x1bW4sIGkyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHNob3cgPSB0eXBlb2YgY29sdW1uLnNob3cgPT09ICdmdW5jdGlvbicgPyBjb2x1bW4uc2hvdygpIDogY29sdW1uLnNob3dcbiAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBfLmdldEZpcnN0RGVmaW5lZChjb2x1bW4ud2lkdGgsIGNvbHVtbi5taW5XaWR0aClcbiAgICAgICAgICAgICAgY29uc3QgbWF4V2lkdGggPSBfLmdldEZpcnN0RGVmaW5lZChjb2x1bW4ud2lkdGgsIGNvbHVtbi5tYXhXaWR0aClcbiAgICAgICAgICAgICAgY29uc3QgdEZvb3RUZFByb3BzID0gXy5zcGxpdFByb3BzKGdldFRmb290VGRQcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcykpXG4gICAgICAgICAgICAgIGNvbnN0IGNvbHVtblByb3BzID0gXy5zcGxpdFByb3BzKGNvbHVtbi5nZXRQcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIGNvbHVtbiwgdGhpcykpXG4gICAgICAgICAgICAgIGNvbnN0IGNvbHVtbkZvb3RlclByb3BzID0gXy5zcGxpdFByb3BzKGNvbHVtbi5nZXRGb290ZXJQcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIGNvbHVtbiwgdGhpcykpXG5cbiAgICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IFtcbiAgICAgICAgICAgICAgICB0Rm9vdFRkUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgY29sdW1uUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNvbHVtbkZvb3RlclByb3BzLmNsYXNzTmFtZVxuICAgICAgICAgICAgICBdXG5cbiAgICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0ge1xuICAgICAgICAgICAgICAgIC4uLnRGb290VGRQcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICAuLi5jb2x1bW4uc3R5bGUsXG4gICAgICAgICAgICAgICAgLi4uY29sdW1uUHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgLi4uY29sdW1uRm9vdGVyUHJvcHMuc3R5bGVcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChjb2x1bW4uZXhwYW5kZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnBpdm90Q29sdW1ucykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPFRkQ29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpMn1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAncnQtcGl2b3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlc1xuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IGAke3dpZHRofSAwIGF1dG9gLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAke3dpZHRofXB4YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiBgJHttYXhXaWR0aH1weGBcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIHsuLi5jb2x1bW5Qcm9wcy5yZXN0fVxuICAgICAgICAgICAgICAgICAgICAgIHsuLi50Rm9vdFRkUHJvcHMucmVzdH1cbiAgICAgICAgICAgICAgICAgICAgICB7Li4uY29sdW1uRm9vdGVyUHJvcHMucmVzdH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtfLm5vcm1hbGl6ZUNvbXBvbmVudChjb2x1bW4uZm9vdGVyKX1cbiAgICAgICAgICAgICAgICAgICAgPC9UZENvbXBvbmVudD5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHJlZ3VsYXIgZXhwYW5kZXIgY2VsbFxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8VGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpMn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICAge2hpZGRlbjogIXNob3d9XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IGAwIDAgYXV0b2AsXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAke2V4cGFuZGVyQ29sdW1uV2lkdGh9cHhgXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFJldHVybiByZWd1bGFyIGNlbGxcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8VGRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgIGtleT17aTJ9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXMoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICFzaG93ICYmICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVzLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiBgJHt3aWR0aH0gMCBhdXRvYCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGAke3dpZHRofXB4YCxcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IGAke21heFdpZHRofXB4YFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHsuLi5jb2x1bW5Qcm9wcy5yZXN0fVxuICAgICAgICAgICAgICAgICAgey4uLnRGb290VGRQcm9wcy5yZXN0fVxuICAgICAgICAgICAgICAgICAgey4uLmNvbHVtbkZvb3RlclByb3BzLnJlc3R9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge18ubm9ybWFsaXplQ29tcG9uZW50KGNvbHVtbi5mb290ZXIpfVxuICAgICAgICAgICAgICAgIDwvVGRDb21wb25lbnQ+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvVHJDb21wb25lbnQ+XG4gICAgICAgIDwvVGZvb3RDb21wb25lbnQ+XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3Qgcm9vdFByb3BzID0gXy5zcGxpdFByb3BzKGdldFByb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKSlcbiAgICBjb25zdCB0YWJsZVByb3BzID0gXy5zcGxpdFByb3BzKGdldFRhYmxlUHJvcHMoZmluYWxTdGF0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMpKVxuICAgIGNvbnN0IHRCb2R5UHJvcHMgPSBfLnNwbGl0UHJvcHMoZ2V0VGJvZHlQcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcykpXG4gICAgY29uc3QgcGFnaW5hdGlvblByb3BzID0gXy5zcGxpdFByb3BzKGdldFBhZ2luYXRpb25Qcm9wcyhmaW5hbFN0YXRlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdGhpcykpXG4gICAgY29uc3QgbG9hZGluZ1Byb3BzID0gZ2V0TG9hZGluZ1Byb3BzKGZpbmFsU3RhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0aGlzKVxuICAgIGNvbnN0IG5vRGF0YVByb3BzID0gZ2V0Tm9EYXRhUHJvcHMoZmluYWxTdGF0ZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMpXG5cbiAgICBjb25zdCBtYWtlVGFibGUgPSAoKSA9PiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhcbiAgICAgICAgICAnUmVhY3RUYWJsZScsXG4gICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgIHJvb3RQcm9wcy5jbGFzc05hbWVcbiAgICAgICAgKX1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAuLi5yb290UHJvcHMuc3R5bGVcbiAgICAgICAgfX1cbiAgICAgICAgey4uLnJvb3RQcm9wcy5yZXN0fVxuICAgICAgPlxuICAgICAgICA8VGFibGVDb21wb25lbnRcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzbmFtZXModGFibGVQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgIHN0eWxlPXt0YWJsZVByb3BzLnN0eWxlfVxuICAgICAgICAgIHsuLi50YWJsZVByb3BzLnJlc3R9XG4gICAgICAgID5cbiAgICAgICAgICB7aGFzSGVhZGVyR3JvdXBzID8gbWFrZUhlYWRlckdyb3VwcygpIDogbnVsbH1cbiAgICAgICAgICB7bWFrZUhlYWRlcnMoKX1cbiAgICAgICAgICA8VGJvZHlDb21wb25lbnRcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NuYW1lcyh0Qm9keVByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAuLi50Qm9keVByb3BzLnN0eWxlLFxuICAgICAgICAgICAgICBtaW5XaWR0aDogYCR7cm93TWluV2lkdGh9cHhgXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLnRCb2R5UHJvcHMucmVzdH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cGFnZVJvd3MubWFwKChkLCBpKSA9PiBtYWtlUGFnZVJvdyhkLCBpKSl9XG4gICAgICAgICAgICB7cGFkUm93cy5tYXAobWFrZVBhZFJvdyl9XG4gICAgICAgICAgPC9UYm9keUNvbXBvbmVudD5cbiAgICAgICAgICB7aGFzQ29sdW1uRm9vdGVyID8gbWFrZUNvbHVtbkZvb3RlcnMoKSA6IG51bGx9XG4gICAgICAgIDwvVGFibGVDb21wb25lbnQ+XG4gICAgICAgIHtzaG93UGFnaW5hdGlvbiA/IChcbiAgICAgICAgICA8UGFnaW5hdGlvbkNvbXBvbmVudFxuICAgICAgICAgICAgey4uLnJlc29sdmVkU3RhdGV9XG4gICAgICAgICAgICBwYWdlcz17cGFnZXN9XG4gICAgICAgICAgICBjYW5QcmV2aW91cz17Y2FuUHJldmlvdXN9XG4gICAgICAgICAgICBjYW5OZXh0PXtjYW5OZXh0fVxuICAgICAgICAgICAgb25QYWdlQ2hhbmdlPXt0aGlzLm9uUGFnZUNoYW5nZX1cbiAgICAgICAgICAgIG9uUGFnZVNpemVDaGFuZ2U9e3RoaXMub25QYWdlU2l6ZUNoYW5nZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17cGFnaW5hdGlvblByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgICAgIHN0eWxlPXtwYWdpbmF0aW9uUHJvcHMuc3R5bGV9XG4gICAgICAgICAgICB7Li4ucGFnaW5hdGlvblByb3BzLnJlc3R9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIHshcGFnZVJvd3MubGVuZ3RoICYmIChcbiAgICAgICAgICA8Tm9EYXRhQ29tcG9uZW50XG4gICAgICAgICAgICB7Li4ubm9EYXRhUHJvcHN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge18ubm9ybWFsaXplQ29tcG9uZW50KG5vRGF0YVRleHQpfVxuICAgICAgICAgIDwvTm9EYXRhQ29tcG9uZW50PlxuICAgICAgICApfVxuICAgICAgICA8TG9hZGluZ0NvbXBvbmVudFxuICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgICAgbG9hZGluZ1RleHQ9e2xvYWRpbmdUZXh0fVxuICAgICAgICAgIHsuLi5sb2FkaW5nUHJvcHN9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG5cbiAgICAvLyBjaGlsZFByb3BzIGFyZSBvcHRpb25hbGx5IHBhc3NlZCB0byBhIGZ1bmN0aW9uLWFzLWEtY2hpbGRcbiAgICByZXR1cm4gY2hpbGRyZW4gPyBjaGlsZHJlbihmaW5hbFN0YXRlLCBtYWtlVGFibGUsIHRoaXMpIDogbWFrZVRhYmxlKClcbiAgfVxufSlcbiJdfQ==